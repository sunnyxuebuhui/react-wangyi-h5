{"ast":null,"code":"import _classCallCheck from \"/Users/chenyiquan/React/react-wangyi-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenyiquan/React/react-wangyi-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenyiquan/React/react-wangyi-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenyiquan/React/react-wangyi-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenyiquan/React/react-wangyi-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chenyiquan/React/react-wangyi-app/src/components/XScroll/index.js\";\nimport React, { Component } from 'react';\nimport BScroll from 'better-scroll';\n\nvar XScroll =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(XScroll, _Component);\n\n  function XScroll() {\n    _classCallCheck(this, XScroll);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(XScroll).apply(this, arguments));\n  }\n\n  _createClass(XScroll, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ulDom = this.types.querySelector('ul');\n      var parentDom = ulDom.parentNode;\n      var minWidth = parentDom.clientWidth;\n\n      if (!ulDom) {\n        throw new Error('子节点必须是ul列表');\n      }\n\n      var listItems = Array.from(ulDom.querySelectorAll('li'));\n      var listWidth = listItems.reduce(function (total, b) {\n        return total + Number(b.clientWidth);\n      }, 0); // 最小和父元素宽度一样 否则外层写列表样式会出问题\n\n      ulDom.style.width = \"100%\";\n      ulDom.style.position = \"relative\";\n      ulDom.style.overflow = \"hidden\";\n      this.scroll = new BScroll(this.types, {\n        scrollX: true,\n        eventPassthrough: 'vertical',\n        click: true,\n        bounce: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(\"div\", {\n        className: \"scroll_wrapper\",\n        ref: function ref(types) {\n          return _this.types = types;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return XScroll;\n}(Component);\n\nexport default XScroll;","map":{"version":3,"sources":["/Users/chenyiquan/React/react-wangyi-app/src/components/XScroll/index.js"],"names":["React","Component","BScroll","XScroll","ulDom","types","querySelector","parentDom","parentNode","minWidth","clientWidth","Error","listItems","Array","from","querySelectorAll","listWidth","reduce","total","b","Number","style","width","position","overflow","scroll","scrollX","eventPassthrough","click","bounce","props","children"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,eAApB;;IAEMC,O;;;;;;;;;;;;;wCACgB;AAClB,UAAMC,KAAK,GAAI,KAAKC,KAAL,CAAWC,aAAX,CAAyB,IAAzB,CAAf;AACA,UAAMC,SAAS,GAAGH,KAAK,CAACI,UAAxB;AACA,UAAMC,QAAQ,GAAGF,SAAS,CAACG,WAA3B;;AACA,UAAI,CAACN,KAAL,EAAY;AACV,cAAM,IAAIO,KAAJ,CAAU,YAAV,CAAN;AACD;;AACD,UAAMC,SAAS,GAAGC,KAAK,CAACC,IAAN,CAAWV,KAAK,CAACW,gBAAN,CAAuB,IAAvB,CAAX,CAAlB;AACA,UAAMC,SAAS,GAAGJ,SAAS,CAACK,MAAV,CAAiB,UAACC,KAAD,EAAOC,CAAP,EAAa;AAC9C,eAAOD,KAAK,GAAGE,MAAM,CAACD,CAAC,CAACT,WAAH,CAArB;AACD,OAFiB,EAEf,CAFe,CAAlB,CARkB,CAWlB;;AACAN,MAAAA,KAAK,CAACiB,KAAN,CAAYC,KAAZ;AACAlB,MAAAA,KAAK,CAACiB,KAAN,CAAYE,QAAZ;AACAnB,MAAAA,KAAK,CAACiB,KAAN,CAAYG,QAAZ;AACA,WAAKC,MAAL,GAAc,IAAIvB,OAAJ,CAAY,KAAKG,KAAjB,EAAwB;AACpCqB,QAAAA,OAAO,EAAE,IAD2B;AAEpCC,QAAAA,gBAAgB,EAAE,UAFkB;AAGpCC,QAAAA,KAAK,EAAE,IAH6B;AAIpCC,QAAAA,MAAM,EAAE;AAJ4B,OAAxB,CAAd;AAMD;;;6BACQ;AAAA;;AACP,aACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,GAAG,EAAE,aAAAxB,KAAK;AAAA,iBAAI,KAAI,CAACA,KAAL,GAAaA,KAAjB;AAAA,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKyB,KAAL,CAAWC,QADd,CADF;AAKD;;;;EA7BmB9B,S;;AAgCtB,eAAeE,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport BScroll from 'better-scroll'\n\nclass XScroll extends Component {\n  componentDidMount() {\n    const ulDom =  this.types.querySelector('ul')\n    const parentDom = ulDom.parentNode\n    const minWidth = parentDom.clientWidth\n    if (!ulDom) {\n      throw new Error('子节点必须是ul列表')\n    }\n    const listItems = Array.from(ulDom.querySelectorAll('li'))\n    const listWidth = listItems.reduce((total,b) => {\n      return total + Number(b.clientWidth)\n    }, 0)\n    // 最小和父元素宽度一样 否则外层写列表样式会出问题\n    ulDom.style.width = `100%`\n    ulDom.style.position = `relative`\n    ulDom.style.overflow = `hidden`\n    this.scroll = new BScroll(this.types, {\n      scrollX: true,\n      eventPassthrough: 'vertical',\n      click: true,\n      bounce: false\n    })\n  }\n  render() {\n    return (\n      <div className=\"scroll_wrapper\" ref={types => this.types = types}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default XScroll"]},"metadata":{},"sourceType":"module"}